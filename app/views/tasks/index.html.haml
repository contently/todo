- if params.fetch(:filter, nil).present?
  %h1 All Tasks
  %span= link_to "(clear)", tasks_url(filter: nil)
- else
  %h1 Pending Tasks
  %span= link_to "(show all)", tasks_url(filter: "all")

%table.table.table-striped
  %thead
    %tr
      %th Name
      %th Completed
      %th
      %th

  %tbody
    - @tasks.each do |task|
      %tr
        %td= link_to task.name, task
        %td
          - if task.completed?
            %span.badge.bg-success Yes
          - else
            %span.badge.bg-danger No
        %td=link_to 'Edit', edit_task_path(task)
        %td=link_to 'Delete', task, :method => :delete, :data => { :confirm => 'Are you sure?' }

%br

=link_to 'Add a task', new_task_path, class: 'btn btn-primary btn-sm'
